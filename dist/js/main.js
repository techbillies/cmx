var translation={first:"|&lt; Premier",previous:"&lt; Précédent",random:"N'importe",next:"Prochain &gt;",last:"Dernier &gt;|"},t="assets/",n=["le-slogan.png","bd-en-ligne.png","l-austerite.png","la-pub.png","du-boulot.png","charlie.png","un-cafe.png","fiat-luxe.png","c-ta-crere.png","publi-cite.png","time-out.png","de-pis-en-pis.png","toune.png","le-futur-ete.png","c-est-pas-gai.png","le-truc.png","fin-de-partie.png","don-de-soi.png","festival.png","infortunes-du-rire.png","cuisses.png","sante.png"],prevBtn=document.querySelectorAll(".prev"),nextBtn=document.querySelectorAll(".next"),firstBtn=document.querySelectorAll(".first"),lastBtn=document.querySelectorAll(".last"),randomBtn=document.querySelectorAll(".random"),preloadFirst=document.querySelector(".preload__first"),preloadPrevious=document.querySelector(".preload__previous"),preloadRandom=document.querySelector(".preload__random"),preloadNext=document.querySelector(".preload__next");preloadLast=document.querySelector(".preload__last"),prevBtn[0].innerHTML=translation.previous,nextBtn[0].innerHTML=translation.next,firstBtn[0].innerHTML=translation.first,lastBtn[0].innerHTML=translation.last,randomBtn[0].innerHTML=translation.random,function(){var e="state"in window.history,r=location.pathname;console.log(e),console.log(r),console.log(n.indexOf(r+".png"));var o=n.length-1,l=n.indexOf(r.slice(1)+".png")||o,i=document.querySelector("#comic"),a=function(n,e){for(var t=n.length;t>0;)t--,n[t].addEventListener("click",e)},c=function(){l-=1,0>l&&(l=0),g()},s=function(){l+=1,l>o&&(l=o),g()},u=function(){l=0,g()},p=function(){l=o,g()},d=function(){l=n.indexOf(preloadRandom.getAttribute("data-file")),v=m(),g()};console.log("r",l),a(prevBtn,c),a(nextBtn,s),a(firstBtn,u),a(lastBtn,p),a(randomBtn,d);var g=function(){i.src=t+n[l],currentURL=n[l].slice(0,-4),f(),history.pushState(null,null,currentURL)},m=function(){for(var n=l;n==l;)n=Math.floor(Math.random()*o);return n},f=function(){nextComic=l+1,nextComic>o&&(nextComic=o),previousComic=l-1,previousComic<0&&(previousComic=0),preloadFirst.src=t+n[0],preloadPrevious.src=t+n[previousComic],preloadRandom.src=t+n[v],preloadRandom.setAttribute("data-file",n[v]),preloadNext.src=t+n[nextComic],preloadLast.src=t+n[o]};l!=o&&g();var v=m();f()}();